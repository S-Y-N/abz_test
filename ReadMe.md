# Тестове завдання Abz.agency на посаду Back-end Developer(PHP, Laravel)

## Задача, розробити простий RESP API сервер, який імітує CRM роботу з клієнтами, а саме:
- використовувавти API Документацію до запитів (https://apidocs.abz.dev/test_assignment_for_frontend_developer_api_documentation)
- використання генераторів(фабрики) чи сідера для імітації заповнення БД данними
- - створити 45 користувачів (фото, ПІБ, посада, ел.пошта, номер телефона,стать, місто, дата народження) - дані повинні бути наближені до реальних

## POST запити
- Фото профіля розміром 70х70 і відцентроване
- фото які завантажуються, оптимізовано задопомогою tinypng API, який зменшує вагу файлів і пришвидшує роботу.
- - Використання стороннього АРІ тут костиль, бо можна використати як внутрішні механізми Laravel, або треба додавати брокера, бо час поки завантажеться одне хото вагою в 500Кб десь 3-4 секунди, залежить від відповіді сервера, щоб брокер прокидав далі на головну і не чекати завантаження. Або написати самопис для компресії зображення.
- - Використання Auth токенів при реєстрації юзера.

## Виконання запитів
1. /token - GET - Method returns a token that is required to register a new user/
- - Щоб перевірити токен у користувача, GET запит: 
--http://127.0.0.1:8000/users/{user_id}/token
Де user_id це id користувача, якщо він є в БД - отримаєте його токен. а ні - повідомлення що його немає.

2. User pagination - отримати json відповідь, отримуємо порціями користувачів на кожній сторінці. Для виконання цього запиту, потрібно здійснити такий запит:
- - http://127.0.0.1:8000/api?page=2&count=6
    Отримаємо 6 користувачів на 2 сторінці і по посилання можна отримати інших користувачів.
- - Весь список користувачів відображений в таблиці, при потребі можна змінити метод контролера, щоб отримати їх в json файлі.
3. Отримати інфу про певного користувачі у форматі json http://127.0.0.1:8000/users/{id}/
- - {id} - ід користувача
4. Список всіх позицій: http://127.0.0.1:8000/positions 
- - отримуємо список всіх позицій(фах, посада) для користувачів
5. Отримання токену - імітація реєстрація користувача, токен живе 40 хв і потім оновлюється з терміном життя в 1 день. 
- - Щоб отримати токен при реєстрація (він генерується і так для всіх при потребі), потрібно викорнати запит в **Postman** чи **Thunder Client**
- -  - Вибрати: Headers = application/json
- - - В тіло запиту передати :    
   Body: {
  "last_name":"last",  
  "first_name":"first",  
  "middle_name":"mid",  
  "email":"test2@ukr.net",  
  "password":123456,  
  "gender_id":1,  
  "city_id":1,  
  "birth_day":"2006-01-01"  
  - -  URL: type POST - http://127.0.0.1:8000/api/register

## Імплементація фронта для відображеня данних
- Використання Admin LTE - безкоштовна адмін панель та дошка
- На Головній відображається кількість користувачів (нових за 7 днів)
- Користувачі - список користучів з їх даними
- - Працює пагінація, сортування, пошук користувачів по полям
- - Додавання нового користувача, редагування та видалення
- Список областей України
- Список міст України (самописна БД)

## Заключення
1. Для виконання завдання використовував такий стек: Docker, PHP, Laravel, TinyPNG API та інші бібліотеки.
2. Для фронта використовував Admin LTE з інтегрованим в нього Bootsrap, JS, DataTables та інше.
3. Для простоти використання - запуск докера та всі попередні налаштування: створення міграцій, встановлення Passport, наповлення БД тестовими даними - написаний скріпт на Bash (start.sh).
